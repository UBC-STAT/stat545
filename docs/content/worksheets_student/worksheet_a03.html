<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>worksheet_a03 – STAT545</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/stat545_transparent.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-f55b795d08b5ec9c46d466a81ca0990b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">STAT545</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> <i class="bi bi-house-door-fill" role="img">
</i> 
<span class="menu-text"> </span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-syllabus" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Syllabus</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-syllabus">    
        <li>
    <a class="dropdown-item" href="../../webpages/syllabus/syllabusA.html">
 <span class="dropdown-text">Syllabus: STAT 545 A (Part I)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/syllabus/syllabusB.html">
 <span class="dropdown-text">Syllabus: STAT 545 B (Part II)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-notes-(a" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Notes (A)</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-notes-(a">    
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec1a_installation.html">
 <span class="dropdown-text">Lecture 1A: Installation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec1b_introR.html">
 <span class="dropdown-text">Lecture 1B: Course Introduction and R</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec2A_reproducibility.html">
 <span class="dropdown-text">Lecture 2A: Reproducibility with RMarkdown</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec2b_versioncontrol.html">
 <span class="dropdown-text">Lecture 2B: Version Control</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec3_dplyr.html">
 <span class="dropdown-text">Lecture 3: Data Manipulation with dplyr</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec4_datavis.html">
 <span class="dropdown-text">Lecture 4: Data Visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec5_tidydata.html">
 <span class="dropdown-text">Lecture 5: Tidy Data and the Tidyverse</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec6a_modelfitting.html">
 <span class="dropdown-text">Lecture 6A: Model Fitting</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec6b_factorsanddates.html">
 <span class="dropdown-text">Lecture 6B: Factors</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec7a_readwritedata.html">
 <span class="dropdown-text">Lecture 7A: Reading and Writing Data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_i/lec7b_joiningtibbles.html">
 <span class="dropdown-text">Lecture 7B: Tibble Joins</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-notes-(b" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Notes (B)</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-notes-(b">    
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_ii/lec8a_functions.html">
 <span class="dropdown-text">Lecture 8A: Functions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_ii/lec8b_advfunctions.html">
 <span class="dropdown-text">Lecture 8b: Advanced Functions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_ii/lec9_rpackages.html">
 <span class="dropdown-text">Lecture 9: R Packages</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/lectures_ii/lec10_shiny.html">
 <span class="dropdown-text">Lecture 10: Dashboards with R Shiny</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../webpages/slides/slides.html"> 
<span class="menu-text">Slides</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../webpages/worksheets.html"> 
<span class="menu-text">Worksheets</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-collab-project" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Collab Project</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-collab-project">    
        <li>
    <a class="dropdown-item" href="../../webpages/collabproj/collabproj_deliverable1.html">
 <span class="dropdown-text">Collaborative Project: Deliverable 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/collabproj/collabproj_deliverable2.html">
 <span class="dropdown-text">Collaborative Project: Deliverable 2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-mini-data-analysis" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Mini Data Analysis</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-mini-data-analysis">    
        <li>
    <a class="dropdown-item" href="../../webpages/mda/mda_deliverable1.html">
 <span class="dropdown-text">Mini Data Analysis: Deliverable 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../webpages/mda/mda_deliverable2.html">
 <span class="dropdown-text">Mini Data Analysis: Deliverable 2</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../webpages/bassignments.html"> 
<span class="menu-text">Assignments (Part B)</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../webpages/faq.html"> 
<span class="menu-text">FAQ</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/UBC-STAT/STAT545.github.io"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://youtube.com/playlist?list=PL32xpGMCWJAkihtosNGDQz0NP4UBqQnq8&amp;si=VaWFgrlMNKHtgOHD"> <i class="bi bi-youtube" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#worksheet-a-3-graphing-with-the-grammar-of-graphics-through-ggplot2-21-points" id="toc-worksheet-a-3-graphing-with-the-grammar-of-graphics-through-ggplot2-21-points" class="nav-link active" data-scroll-target="#worksheet-a-3-graphing-with-the-grammar-of-graphics-through-ggplot2-21-points">Worksheet A-3: Graphing with the Grammar of Graphics through ggplot2 (21 points)</a>
  <ul class="collapse">
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started">Getting Started</a></li>
  </ul></li>
  <li><a href="#part-1-the-grammar-of-graphics" id="toc-part-1-the-grammar-of-graphics" class="nav-link" data-scroll-target="#part-1-the-grammar-of-graphics">Part 1: The Grammar of Graphics</a>
  <ul class="collapse">
  <li><a href="#question-1.0" id="toc-question-1.0" class="nav-link" data-scroll-target="#question-1.0">QUESTION 1.0</a></li>
  <li><a href="#question-1.1" id="toc-question-1.1" class="nav-link" data-scroll-target="#question-1.1">Question 1.1</a></li>
  </ul></li>
  <li><a href="#part-2-ggplot2-syntax" id="toc-part-2-ggplot2-syntax" class="nav-link" data-scroll-target="#part-2-ggplot2-syntax">Part 2: <code>ggplot2</code> Syntax</a>
  <ul class="collapse">
  <li><a href="#question-2.0" id="toc-question-2.0" class="nav-link" data-scroll-target="#question-2.0">QUESTION 2.0</a></li>
  <li><a href="#question-2.1" id="toc-question-2.1" class="nav-link" data-scroll-target="#question-2.1">QUESTION 2.1</a></li>
  <li><a href="#question-2.2" id="toc-question-2.2" class="nav-link" data-scroll-target="#question-2.2">QUESTION 2.2</a></li>
  <li><a href="#question-2.3" id="toc-question-2.3" class="nav-link" data-scroll-target="#question-2.3">QUESTION 2.3</a></li>
  <li><a href="#question-2.4" id="toc-question-2.4" class="nav-link" data-scroll-target="#question-2.4">QUESTION 2.4</a></li>
  <li><a href="#question-2.5" id="toc-question-2.5" class="nav-link" data-scroll-target="#question-2.5">QUESTION 2.5</a></li>
  <li><a href="#question-2.6" id="toc-question-2.6" class="nav-link" data-scroll-target="#question-2.6">QUESTION 2.6</a></li>
  <li><a href="#question-2.7" id="toc-question-2.7" class="nav-link" data-scroll-target="#question-2.7">QUESTION 2.7</a></li>
  <li><a href="#question-2.8" id="toc-question-2.8" class="nav-link" data-scroll-target="#question-2.8">QUESTION 2.8</a></li>
  <li><a href="#question-2.9" id="toc-question-2.9" class="nav-link" data-scroll-target="#question-2.9">QUESTION 2.9</a></li>
  <li><a href="#question-2.10" id="toc-question-2.10" class="nav-link" data-scroll-target="#question-2.10">QUESTION 2.10</a></li>
  <li><a href="#question-2.11" id="toc-question-2.11" class="nav-link" data-scroll-target="#question-2.11">QUESTION 2.11</a></li>
  <li><a href="#question-2.12" id="toc-question-2.12" class="nav-link" data-scroll-target="#question-2.12">QUESTION 2.12</a></li>
  <li><a href="#question-2.13" id="toc-question-2.13" class="nav-link" data-scroll-target="#question-2.13">QUESTION 2.13</a></li>
  <li><a href="#question-2.14" id="toc-question-2.14" class="nav-link" data-scroll-target="#question-2.14">QUESTION 2.14</a></li>
  </ul></li>
  <li><a href="#part-3-fix-the-plots" id="toc-part-3-fix-the-plots" class="nav-link" data-scroll-target="#part-3-fix-the-plots">Part 3: Fix the plots!</a>
  <ul class="collapse">
  <li><a href="#question-3.0" id="toc-question-3.0" class="nav-link" data-scroll-target="#question-3.0">QUESTION 3.0</a></li>
  <li><a href="#question-3.1" id="toc-question-3.1" class="nav-link" data-scroll-target="#question-3.1">QUESTION 3.1</a></li>
  <li><a href="#question-3.2" id="toc-question-3.2" class="nav-link" data-scroll-target="#question-3.2">QUESTION 3.2</a></li>
  <li><a href="#question-3.3" id="toc-question-3.3" class="nav-link" data-scroll-target="#question-3.3">QUESTION 3.3</a></li>
  </ul></li>
  <li><a href="#part-4-challenges-not-for-points" id="toc-part-4-challenges-not-for-points" class="nav-link" data-scroll-target="#part-4-challenges-not-for-points">Part 4: Challenges (<em>Not for points</em>)</a>
  <ul class="collapse">
  <li><a href="#question-4.0" id="toc-question-4.0" class="nav-link" data-scroll-target="#question-4.0">QUESTION 4.0</a></li>
  <li><a href="#question-4.1" id="toc-question-4.1" class="nav-link" data-scroll-target="#question-4.1">QUESTION 4.1</a></li>
  <li><a href="#question-4.2" id="toc-question-4.2" class="nav-link" data-scroll-target="#question-4.2">QUESTION 4.2</a></li>
  <li><a href="#question-4.3" id="toc-question-4.3" class="nav-link" data-scroll-target="#question-4.3">QUESTION 4.3</a></li>
  </ul></li>
  <li><a href="#part-5-suggested-solutions-to-part-4" id="toc-part-5-suggested-solutions-to-part-4" class="nav-link" data-scroll-target="#part-5-suggested-solutions-to-part-4">Part 5: Suggested Solutions to Part 4</a>
  <ul class="collapse">
  <li><a href="#suggested-answer-to-question-4.0" id="toc-suggested-answer-to-question-4.0" class="nav-link" data-scroll-target="#suggested-answer-to-question-4.0">Suggested Answer to QUESTION 4.0</a></li>
  <li><a href="#suggested-answer-to-question-4.1" id="toc-suggested-answer-to-question-4.1" class="nav-link" data-scroll-target="#suggested-answer-to-question-4.1">Suggested Answer to QUESTION 4.1</a></li>
  <li><a href="#suggested-answer-to-question-4.2" id="toc-suggested-answer-to-question-4.2" class="nav-link" data-scroll-target="#suggested-answer-to-question-4.2">Suggested Answer to QUESTION 4.2</a></li>
  <li><a href="#suggested-answer-to-question-4.3" id="toc-suggested-answer-to-question-4.3" class="nav-link" data-scroll-target="#suggested-answer-to-question-4.3">Suggested Answer to QUESTION 4.3</a></li>
  <li><a href="#attribution" id="toc-attribution" class="nav-link" data-scroll-target="#attribution">Attribution</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<p>Name:</p>
<p>Student ID:</p>
<section id="worksheet-a-3-graphing-with-the-grammar-of-graphics-through-ggplot2-21-points" class="level1">
<h1>Worksheet A-3: Graphing with the Grammar of Graphics through ggplot2 (21 points)</h1>
<p>By the end of this worksheet, you will be able to:</p>
<ul>
<li>Identify the seven components of the grammar of graphics underlying ggplot2.</li>
<li>Produce plots with ggplot2 by implementing the components of the grammar of graphics.</li>
<li>Customize the look of ggplot2 graphs.</li>
<li>Choose an appropriate plot type for Exploratory Data Analysis, based on an understanding of what makes a graph effective.</li>
</ul>
<p>There are a total of 21 autograded questions, worth 1 point each.</p>
<p>Submit your worksheet on Canvas.</p>
<section id="getting-started" class="level2">
<h2 class="anchored" data-anchor-id="getting-started">Getting Started</h2>
<p>Load the required packages for this worksheet:</p>
<div id="cell-2" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;3ac361dd4c2264e5a68a6999d499857d&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-24309ff38e46bf59&quot;,&quot;locked&quot;:true,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="10">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(tidyverse))</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(rlang))</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(tsibble))</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(gapminder))</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(palmerpenguins))</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(ggridges))</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(scales))</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(testthat))</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(digest))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The following code chunk has been unlocked, to give you the flexibility to start this document with some of your own code. Remember, it’s bad manners to keep a call to <code>install.packages()</code> in your source code, so don’t forget to comment these lines after running them</p>
<div id="cell-4" class="cell" data-editable="true" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="11">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># An unlocked code cell. Feel free to edit this if you need to install any packages</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("tsibble")</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("ggridges")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="part-1-the-grammar-of-graphics" class="level1">
<h1>Part 1: The Grammar of Graphics</h1>
<section id="question-1.0" class="level2">
<h2 class="anchored" data-anchor-id="question-1.0">QUESTION 1.0</h2>
<p>{points: 1}</p>
<p>Consider the following plot. Don’t concern yourself with the code at this point.</p>
<div id="cell-6" class="cell" data-editable="false" data-fig.height="2" data-fig.width="5" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;dbfcfe3cb4d74fac9a85a71348592dcd&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-13ae5030ac04ea95&quot;,&quot;locked&quot;:true,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="12">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">continent =</span> <span class="fu">fct_infreq</span>(continent)) <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(continent)) <span class="sc">+</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="worksheet_a03_files/figure-html/cell-4-output-1.png" width="420" height="420" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Which table specifies the seven grammar of graphics components of this plot? Choose the best option, and place your choice in a variable named <code>answer1.0</code></p>
<ol type="A">
<li></li>
</ol>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Grammar Component</th>
<th>Specification</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>data</strong></td>
<td><code>gapminder</code></td>
</tr>
<tr class="even">
<td><strong>aesthetic mapping</strong></td>
<td><code>continent</code></td>
</tr>
<tr class="odd">
<td><strong>geometric object</strong></td>
<td><code>bars</code></td>
</tr>
<tr class="even">
<td>scale</td>
<td><code>logarithmic</code></td>
</tr>
<tr class="odd">
<td>statistical transform</td>
<td><code>none</code></td>
</tr>
<tr class="even">
<td>coordinate system</td>
<td><code>rectangular</code></td>
</tr>
<tr class="odd">
<td>facetting</td>
<td><code>none</code></td>
</tr>
</tbody>
</table>
<ol start="2" type="A">
<li></li>
</ol>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Grammar Component</th>
<th>Specification</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>data</strong></td>
<td><code>gapminder</code></td>
</tr>
<tr class="even">
<td><strong>aesthetic mapping</strong></td>
<td><code>continent</code></td>
</tr>
<tr class="odd">
<td><strong>geometric object</strong></td>
<td><code>bars</code></td>
</tr>
<tr class="even">
<td>scale</td>
<td><code>linear</code></td>
</tr>
<tr class="odd">
<td>statistical transform</td>
<td><code>none</code></td>
</tr>
<tr class="even">
<td>coordinate system</td>
<td><code>rectangular</code></td>
</tr>
<tr class="odd">
<td>facetting</td>
<td><code>none</code></td>
</tr>
</tbody>
</table>
<ol start="3" type="A">
<li></li>
</ol>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Grammar Component</th>
<th>Specification</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>data</strong></td>
<td><code>gapminder</code></td>
</tr>
<tr class="even">
<td><strong>aesthetic mapping</strong></td>
<td><code>year</code></td>
</tr>
<tr class="odd">
<td><strong>geometric object</strong></td>
<td><code>bars</code></td>
</tr>
<tr class="even">
<td>scale</td>
<td><code>linear</code></td>
</tr>
<tr class="odd">
<td>statistical transform</td>
<td><code>none</code></td>
</tr>
<tr class="even">
<td>coordinate system</td>
<td><code>rectangular</code></td>
</tr>
<tr class="odd">
<td>facetting</td>
<td><code>none</code></td>
</tr>
</tbody>
</table>
<div id="cell-8" class="cell" data-editable="true" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;a36024ccd7e43e32c3f7dd7de73c40e3&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-cfc3d9e1948b5dd5&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="13">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># answer1.0 &lt;- "FILL_THIS_IN"</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ERROR: Error: Failure has been forced

Error: Failure has been forced
Traceback:

1. expect(FALSE, message, info = info, trace_env = trace_env)
2. exp_signal(exp)
3. withRestarts(if (expectation_broken(exp)) {
 .     stop(exp)
 . } else {
 .     signalCondition(exp)
 . }, continue_test = function(e) NULL)
4. withOneRestart(expr, restarts[[1L]])
5. doWithOneRestart(return(expr), restart)
6. stop(exp)</code></pre>
</div>
</div>
<div id="cell-9" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;2dff83352ac841b001b19e09b2ffb3ea&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-91fe67fe9b8d9b44&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="14">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of answer1.0 is not character"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer1<span class="fl">.0</span>)), <span class="st">"44eeb"</span>)), <span class="st">"06eea4cecb9f8f4fb3de527cf575dd5b"</span>))</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"length of answer1.0 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">length</span>(answer1<span class="fl">.0</span>)), <span class="st">"44eeb"</span>)), <span class="st">"3086a6e5c3956a08ace41a07f272db39"</span>))</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"value of answer1.0 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">tolower</span>(answer1<span class="fl">.0</span>)), <span class="st">"44eeb"</span>)), <span class="st">"2fbe4181a8f8d4af6583e4d676201621"</span>))</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"letters in string value of answer1.0 are correct but case is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(answer1<span class="fl">.0</span>), <span class="st">"44eeb"</span>)), <span class="st">"69ce2d5cf6dcc725fa364e35214fe252"</span>))</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ERROR: Error: object 'answer1.0' not found

Error: object 'answer1.0' not found
Traceback:

1. setequal(digest(paste(toString(class(answer1.0)), "44eeb")), 
 .     "06eea4cecb9f8f4fb3de527cf575dd5b")
2. digest(paste(toString(class(answer1.0)), "44eeb"))
3. serialize(object, connection = NULL, ascii = ascii, version = serializeVersion)
4. paste(toString(class(answer1.0)), "44eeb")
5. toString(class(answer1.0))
6. .handleSimpleError(function (cnd) 
 . {
 .     watcher$capture_plot_and_output()
 .     cnd &lt;- sanitize_call(cnd)
 .     watcher$push(cnd)
 .     switch(on_error, continue = invokeRestart("eval_continue"), 
 .         stop = invokeRestart("eval_stop"), error = NULL)
 . }, "object 'answer1.0' not found", base::quote(eval(expr, envir)))</code></pre>
</div>
</div>
</section>
<section id="question-1.1" class="level2">
<h2 class="anchored" data-anchor-id="question-1.1">Question 1.1</h2>
<p>{points: 1}</p>
<p>Consider the following plot. Don’t concern yourself with the code at this point.</p>
<div id="cell-11" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;35aecc6ea16a61f1d0c22b424d067702&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-0146fd3d421ece40&quot;,&quot;locked&quot;:true,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="15">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(gdpPercap, lifeExp)) <span class="sc">+</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="st">"GDP per capita"</span>, <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">dollar_format</span>()) <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Life Expectancy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="worksheet_a03_files/figure-html/cell-7-output-1.png" width="420" height="420" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>What is the aesthetic mapping in this plot? Place your answer in a variable named <code>answer1.1</code></p>
<ol type="A">
<li><p>alpha = 0.1</p></li>
<li><p>x: gdpPercap, y: lifeExp</p></li>
<li><p>none</p></li>
<li><p>“Life Expectancy”</p></li>
</ol>
<div id="question-2-1" class="cell" data-editable="true" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;9d38dd8eb229a60de1904b0538414352&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-3dd0ed73c41c1136&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="16">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># answer1.1 &lt;- "FILL_THIS_IN"</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ERROR: Error: Failure has been forced

Error: Failure has been forced
Traceback:

1. expect(FALSE, message, info = info, trace_env = trace_env)
2. exp_signal(exp)
3. withRestarts(if (expectation_broken(exp)) {
 .     stop(exp)
 . } else {
 .     signalCondition(exp)
 . }, continue_test = function(e) NULL)
4. withOneRestart(expr, restarts[[1L]])
5. doWithOneRestart(return(expr), restart)
6. stop(exp)</code></pre>
</div>
</div>
<div id="test-2-1" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;a3e0d6fa610edfcd93490091cac02e72&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-8c5e0da43802f075&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="17">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of answer1.1 is not character"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer1<span class="fl">.1</span>)), <span class="st">"bccba"</span>)), <span class="st">"f15c7035173c780c29c0a43fc7e6666a"</span>))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"length of answer1.1 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">length</span>(answer1<span class="fl">.1</span>)), <span class="st">"bccba"</span>)), <span class="st">"576d4d6036f807deefcfdfd4359fc3f9"</span>))</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"value of answer1.1 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">tolower</span>(answer1<span class="fl">.1</span>)), <span class="st">"bccba"</span>)), <span class="st">"48c9ebe9c52e35b749e974625e381797"</span>))</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"letters in string value of answer1.1 are correct but case is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(answer1<span class="fl">.1</span>), <span class="st">"bccba"</span>)), <span class="st">"bd234678dc13c6f3c16fdf33a67791e5"</span>))</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ERROR: Error: object 'answer1.1' not found

Error: object 'answer1.1' not found
Traceback:

1. setequal(digest(paste(toString(class(answer1.1)), "bccba")), 
 .     "f15c7035173c780c29c0a43fc7e6666a")
2. digest(paste(toString(class(answer1.1)), "bccba"))
3. serialize(object, connection = NULL, ascii = ascii, version = serializeVersion)
4. paste(toString(class(answer1.1)), "bccba")
5. toString(class(answer1.1))
6. .handleSimpleError(function (cnd) 
 . {
 .     watcher$capture_plot_and_output()
 .     cnd &lt;- sanitize_call(cnd)
 .     watcher$push(cnd)
 .     switch(on_error, continue = invokeRestart("eval_continue"), 
 .         stop = invokeRestart("eval_stop"), error = NULL)
 . }, "object 'answer1.1' not found", base::quote(eval(expr, envir)))</code></pre>
</div>
</div>
</section>
</section>
<section id="part-2-ggplot2-syntax" class="level1">
<h1>Part 2: <code>ggplot2</code> Syntax</h1>
<p>The following is a tsibble (a special type of tibble containing time series data), stored in the variable <code>mauna</code>, of CO<span class="math inline">\(_2\)</span> concentrations collected monthly at the Mauna Loa station.</p>
<p>Execute this code to store the data in <code>mauna</code>:</p>
<div id="cell-16" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;342528eb322ac3656dd072ce711fd3d8&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-4cc5d4b024e3f5ef&quot;,&quot;locked&quot;:true,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="18">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>mauna <span class="ot">&lt;-</span> tsibble<span class="sc">::</span><span class="fu">as_tsibble</span>(co2) <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>   <span class="fu">rename</span>(<span class="at">month =</span> index, <span class="at">conc =</span> value)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(mauna)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true">
<caption>A tbl_ts: 6 × 2</caption>
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th" scope="col">month</th>
<th data-quarto-table-cell-role="th" scope="col">conc</th>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th" scope="col">&lt;mth&gt;</th>
<th data-quarto-table-cell-role="th" scope="col">&lt;dbl&gt;</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1959 Jan</td>
<td>315.42</td>
</tr>
<tr class="even">
<td>1959 Feb</td>
<td>316.31</td>
</tr>
<tr class="odd">
<td>1959 Mar</td>
<td>316.50</td>
</tr>
<tr class="even">
<td>1959 Apr</td>
<td>317.56</td>
</tr>
<tr class="odd">
<td>1959 May</td>
<td>318.13</td>
</tr>
<tr class="even">
<td>1959 Jun</td>
<td>318.00</td>
</tr>
</tbody>
</table>
</div>
</div>
<section id="question-2.0" class="level2">
<h2 class="anchored" data-anchor-id="question-2.0">QUESTION 2.0</h2>
<p>{points: 1}</p>
<p>Use ggplot2 to produce a line chart showing the concentration of CO<span class="math inline">\(_2\)</span> over time in the <code>mauna</code> dataset. Specifically, the plot should have the following grammar components:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Grammar Component</th>
<th>Specification</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>data</strong></td>
<td><code>mauna</code></td>
</tr>
<tr class="even">
<td><strong>aesthetic mapping</strong></td>
<td>x: month, y: conc</td>
</tr>
<tr class="odd">
<td><strong>geometric object</strong></td>
<td>lines</td>
</tr>
<tr class="even">
<td>scale</td>
<td>linear</td>
</tr>
<tr class="odd">
<td>statistical transform</td>
<td>none</td>
</tr>
<tr class="even">
<td>coordinate system</td>
<td>rectangular</td>
</tr>
<tr class="odd">
<td>facetting</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Fill in the blanks to obtain the plot, storing your plot in a variable named <code>answer2.0</code>.</p>
<pre><code>answer2.0 &lt;- ggplot(FILL_THIS_IN, aes(FILL_THIS_IN, FILL_THIS_IN)) +
    FILL_THIS_IN()</code></pre>
<div id="question-2-2" class="cell" data-editable="true" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;0559b11676385d14a6e6aeae20451199&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-dc9d534f13046219&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="19">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce the plot</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ERROR: Error: Failure has been forced

Error: Failure has been forced
Traceback:

1. expect(FALSE, message, info = info, trace_env = trace_env)
2. exp_signal(exp)
3. withRestarts(if (expectation_broken(exp)) {
 .     stop(exp)
 . } else {
 .     signalCondition(exp)
 . }, continue_test = function(e) NULL)
4. withOneRestart(expr, restarts[[1L]])
5. doWithOneRestart(return(expr), restart)
6. stop(exp)</code></pre>
</div>
</div>
<div id="test-2-2" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;a24a44b99fa728fc5ab0a946bb270ef7&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-b008267739be5f55&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="20">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.0</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.0</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"60dd1"</span>)), <span class="st">"fd2f4cfb345987aac2e99a889fbd241a"</span>))</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.0</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.0</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.0</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"60dd1"</span>)), <span class="st">"efb80e4594e078e0ce6ca62f946cb411"</span>))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.0</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.0</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.0</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"60dd1"</span>)), <span class="st">"7aefbd7989dc5e72df2b5596444ecd4b"</span>))</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.0, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.0</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.0</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"60dd1"</span>)), <span class="st">"bd48ff49924530b203fd0fd476b82f73"</span>))</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.0, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.0</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.0</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"60dd1"</span>)), <span class="st">"bd48ff49924530b203fd0fd476b82f73"</span>))</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.0 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.0</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"60dd1"</span>)), <span class="st">"a8dc6ad1759594a9262d746b4325978f"</span>))</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.0 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.0</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"60dd1"</span>)), <span class="st">"95904ac72fb915fdb2dd409f9ff5fc0c"</span>))</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ERROR: Error: object 'answer2.0' not found

Error: object 'answer2.0' not found
Traceback:

1. setequal(digest(paste(toString(sapply(seq_len(length(answer2.0$layers)), 
 .     function(i) {
 .         c(class(answer2.0$layers[[i]]$geom))[1]
 .     })), "60dd1")), "fd2f4cfb345987aac2e99a889fbd241a")
2. digest(paste(toString(sapply(seq_len(length(answer2.0$layers)), 
 .     function(i) {
 .         c(class(answer2.0$layers[[i]]$geom))[1]
 .     })), "60dd1"))
3. serialize(object, connection = NULL, ascii = ascii, version = serializeVersion)
4. paste(toString(sapply(seq_len(length(answer2.0$layers)), function(i) {
 .     c(class(answer2.0$layers[[i]]$geom))[1]
 . })), "60dd1")
5. toString(sapply(seq_len(length(answer2.0$layers)), function(i) {
 .     c(class(answer2.0$layers[[i]]$geom))[1]
 . }))
6. sapply(seq_len(length(answer2.0$layers)), function(i) {
 .     c(class(answer2.0$layers[[i]]$geom))[1]
 . })
7. lapply(X = X, FUN = FUN, ...)
8. .handleSimpleError(function (cnd) 
 . {
 .     watcher$capture_plot_and_output()
 .     cnd &lt;- sanitize_call(cnd)
 .     watcher$push(cnd)
 .     switch(on_error, continue = invokeRestart("eval_continue"), 
 .         stop = invokeRestart("eval_stop"), error = NULL)
 . }, "object 'answer2.0' not found", base::quote(eval(expr, envir)))</code></pre>
</div>
</div>
</section>
<section id="question-2.1" class="level2">
<h2 class="anchored" data-anchor-id="question-2.1">QUESTION 2.1</h2>
<p>{points: 1}</p>
<p>You can store the output of the plot in a variable, too. The plot that you created in 2.0 is stored in the variable <code>answer2.0</code>. Add a layer to <code>answer2.0</code> that adds green points to the plot. (Not a pretty plot; just expository.)</p>
<pre><code>answer2.1 &lt;- answer2.0 +
  FILL_THIS_IN(colour = FILL_THIS_IN)</code></pre>
<div id="question-2-4" class="cell" data-editable="true" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;615de1e359a8919699aa7243b59e9051&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-d42834d6e87a400e&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="21">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce your plot here. </span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ERROR: Error: Failure has been forced

Error: Failure has been forced
Traceback:

1. expect(FALSE, message, info = info, trace_env = trace_env)
2. exp_signal(exp)
3. withRestarts(if (expectation_broken(exp)) {
 .     stop(exp)
 . } else {
 .     signalCondition(exp)
 . }, continue_test = function(e) NULL)
4. withOneRestart(expr, restarts[[1L]])
5. doWithOneRestart(return(expr), restart)
6. stop(exp)</code></pre>
</div>
</div>
<div id="test-2-4" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;30b4170f9957d919c90e4ae110a0ef4a&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-13c6834fe68d4a9f&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="22">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.1</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.1</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"980d9"</span>)), <span class="st">"f4e4fa00b2afdaeab2ec34c9f4d78896"</span>))</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.1</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.1</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.1</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"980d9"</span>)), <span class="st">"eaf68adb0cdf5ebdfabddec0e7e5cb21"</span>))</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.1</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.1</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.1</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"980d9"</span>)), <span class="st">"656d169c8cc67cd762985a6a852a779f"</span>))</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.1, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.1</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.1</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"980d9"</span>)), <span class="st">"f4becbeca69484eef81aa048ae4cf787"</span>))</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.1, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.1</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.1</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"980d9"</span>)), <span class="st">"f4becbeca69484eef81aa048ae4cf787"</span>))</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.1 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.1</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"980d9"</span>)), <span class="st">"66f9745d70ee8287e9d0ed5c7b86093f"</span>))</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.1 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.1</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.1</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"980d9"</span>)), <span class="st">"f4becbeca69484eef81aa048ae4cf787"</span>))</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.1 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.1</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"980d9"</span>)), <span class="st">"a9d1e4e371f272df7dad2ee9fbc3698f"</span>))</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ERROR: Error: object 'answer2.1' not found

Error: object 'answer2.1' not found
Traceback:

1. setequal(digest(paste(toString(sapply(seq_len(length(answer2.1$layers)), 
 .     function(i) {
 .         c(class(answer2.1$layers[[i]]$geom))[1]
 .     })), "980d9")), "f4e4fa00b2afdaeab2ec34c9f4d78896")
2. digest(paste(toString(sapply(seq_len(length(answer2.1$layers)), 
 .     function(i) {
 .         c(class(answer2.1$layers[[i]]$geom))[1]
 .     })), "980d9"))
3. serialize(object, connection = NULL, ascii = ascii, version = serializeVersion)
4. paste(toString(sapply(seq_len(length(answer2.1$layers)), function(i) {
 .     c(class(answer2.1$layers[[i]]$geom))[1]
 . })), "980d9")
5. toString(sapply(seq_len(length(answer2.1$layers)), function(i) {
 .     c(class(answer2.1$layers[[i]]$geom))[1]
 . }))
6. sapply(seq_len(length(answer2.1$layers)), function(i) {
 .     c(class(answer2.1$layers[[i]]$geom))[1]
 . })
7. lapply(X = X, FUN = FUN, ...)
8. .handleSimpleError(function (cnd) 
 . {
 .     watcher$capture_plot_and_output()
 .     cnd &lt;- sanitize_call(cnd)
 .     watcher$push(cnd)
 .     switch(on_error, continue = invokeRestart("eval_continue"), 
 .         stop = invokeRestart("eval_stop"), error = NULL)
 . }, "object 'answer2.1' not found", base::quote(eval(expr, envir)))</code></pre>
</div>
</div>
</section>
<section id="question-2.2" class="level2">
<h2 class="anchored" data-anchor-id="question-2.2">QUESTION 2.2</h2>
<p>{points: 1}</p>
<p>Besides specifying the aesthetic mappings in the <code>ggplot()</code> function, you can also specify the aesthetic mappings in a <code>geom</code> layer instead of, or in addition to, in the <code>ggplot()</code> function, with the following rules:</p>
<ul>
<li>Aesthetics appearing in a <code>geom</code> layer apply only to that layer.</li>
<li>If there are conflicting aesthetics in both the <code>ggplot()</code> function and the <code>geom</code> layer, the <code>geom</code> layer takes precedence.</li>
</ul>
<p>The following code mistakenly puts the month variable on the y-axis. Fill in the <code>FILL_THIS_IN</code> so that <code>conc</code> is on the y-axis (and month remains on the x-axis), but leave the rest of the code intact. Note what happens to the y-axis label, though! Store your answer in a variable named <code>answer2.2</code></p>
<pre><code>answer2.2 &lt;- ggplot(mauna, aes(x = month, y = month)) +
  geom_point(FILL_THIS_IN)</code></pre>
<div id="cell-24" class="cell" data-editable="true" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;f8409315a3a06f2438e4565fed4babb8&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-32eaa38bca33f44e&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="23">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce the plot here.</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co">#fail() # No Answer - remove if you provide an answer</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="worksheet_a03_files/figure-html/question-2-3-output-1.png" id="question-2-3" width="420" height="420" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<div id="test-2-3" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;ce8436260cb09089ade87dc9ccad633d&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-f196a13adfd12bf2&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="24">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.2</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.2</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"c045f"</span>)), <span class="st">"67f49bcf351392ce8bd37be8776a3632"</span>))</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.2</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.2</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.2</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"c045f"</span>)), <span class="st">"fad82578246badfd8eef234efe7f9421"</span>))</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.2</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.2</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.2</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"c045f"</span>)), <span class="st">"16eacdf10b356e13aada875c9cea1e0f"</span>))</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.2, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.2</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.2</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"c045f"</span>)), <span class="st">"34895918ae4c48a06e8fea5cb75b418d"</span>))</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.2, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.2</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.2</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"c045f"</span>)), <span class="st">"34895918ae4c48a06e8fea5cb75b418d"</span>))</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.2 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.2</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"c045f"</span>)), <span class="st">"89fd2abd4488670a559a96a09550ffc8"</span>))</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.2 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.2</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.2</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"c045f"</span>)), <span class="st">"34895918ae4c48a06e8fea5cb75b418d"</span>))</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.2 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.2</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"c045f"</span>)), <span class="st">"973688b12598685b727a9307c81f4e35"</span>))</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Success!"</code></pre>
</div>
</div>
</section>
<section id="question-2.3" class="level2">
<h2 class="anchored" data-anchor-id="question-2.3">QUESTION 2.3</h2>
<p>{points: 1}</p>
<p>Can you fix what is wrong with the following code?</p>
<p>#install.packages(“tsibble”)</p>
<pre><code>answer2.3 &lt;- ggplot(gapminder) +
    geom_point(x = gdpPercap, y = lifeExp, alpha = 0.1)</code></pre>
<div id="question-2-5" class="cell" data-editable="true" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;9865846c59547dc4453a355c16e8cd3b&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-95c9249da0e6869e&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="5">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce your plot here. </span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ERROR: Error: Failure has been forced

Error: Failure has been forced
Traceback:

1. expect(FALSE, message, info = info, trace_env = trace_env)
2. exp_signal(exp)
3. withRestarts(if (expectation_broken(exp)) {
 .     stop(exp)
 . } else {
 .     signalCondition(exp)
 . }, continue_test = function(e) NULL)
4. withOneRestart(expr, restarts[[1L]])
5. doWithOneRestart(return(expr), restart)
6. stop(exp)</code></pre>
</div>
</div>
<div id="test-2-5" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;0f34e891f3ec1801dfe6461b8248ba3f&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-6595fa0ba46b2fc5&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="6">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.3</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.3</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"ed45a"</span>)), <span class="st">"efc4555d3ac35cb989874b6e5a072373"</span>))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.3</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.3</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.3</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"ed45a"</span>)), <span class="st">"5e5896c3014a4df0f136f581e9787e51"</span>))</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.3</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.3</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.3</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"ed45a"</span>)), <span class="st">"171b0a78d7ecce449289fb1ecba1da91"</span>))</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.3, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.3</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.3</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"ed45a"</span>)), <span class="st">"1fa7bb34a4798dce7c6af2bd666c5b3d"</span>))</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.3, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.3</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.3</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"ed45a"</span>)), <span class="st">"1fa7bb34a4798dce7c6af2bd666c5b3d"</span>))</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.3 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.3</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"ed45a"</span>)), <span class="st">"03c7852d26d25cad40eb27b0c351d315"</span>))</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.3 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.3</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.3</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"ed45a"</span>)), <span class="st">"1fa7bb34a4798dce7c6af2bd666c5b3d"</span>))</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.3 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.3</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"ed45a"</span>)), <span class="st">"d23b3bf894af552ee4aecbf5cb466811"</span>))</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ERROR: Error: object 'answer2.3' not found

Error: object 'answer2.3' not found
Traceback:

1. setequal(digest(paste(toString(sapply(seq_len(length(answer2.3$layers)), 
 .     function(i) {
 .         c(class(answer2.3$layers[[i]]$geom))[1]
 .     })), "ed45a")), "efc4555d3ac35cb989874b6e5a072373")
2. digest(paste(toString(sapply(seq_len(length(answer2.3$layers)), 
 .     function(i) {
 .         c(class(answer2.3$layers[[i]]$geom))[1]
 .     })), "ed45a"))
3. serialize(object, connection = NULL, ascii = ascii, version = serializeVersion)
4. paste(toString(sapply(seq_len(length(answer2.3$layers)), function(i) {
 .     c(class(answer2.3$layers[[i]]$geom))[1]
 . })), "ed45a")
5. toString(sapply(seq_len(length(answer2.3$layers)), function(i) {
 .     c(class(answer2.3$layers[[i]]$geom))[1]
 . }))
6. sapply(seq_len(length(answer2.3$layers)), function(i) {
 .     c(class(answer2.3$layers[[i]]$geom))[1]
 . })
7. lapply(X = X, FUN = FUN, ...)
8. .handleSimpleError(function (cnd) 
 . {
 .     watcher$capture_plot_and_output()
 .     cnd &lt;- sanitize_call(cnd)
 .     watcher$push(cnd)
 .     switch(on_error, continue = invokeRestart("eval_continue"), 
 .         stop = invokeRestart("eval_stop"), error = NULL)
 . }, "object 'answer2.3' not found", base::quote(eval(expr, envir)))</code></pre>
</div>
</div>
</section>
<section id="question-2.4" class="level2">
<h2 class="anchored" data-anchor-id="question-2.4">QUESTION 2.4</h2>
<p>{points: 1}</p>
<p>The following mock dataset marks the (x,y) position of a caribou at four time points (be sure to execute the code in the following cell):</p>
<div id="cell-30" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;f95776d94385b77d167a87da863549c3&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-739de2abb3036ab5&quot;,&quot;locked&quot;:true,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>caribou <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>time, <span class="sc">~</span>x, <span class="sc">~</span>y,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="dv">4</span>, <span class="fl">0.4</span>, <span class="fl">0.5</span>,</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span>, <span class="fl">0.3</span>, <span class="fl">0.3</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span>, <span class="fl">0.8</span>, <span class="fl">0.7</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="dv">3</span>, <span class="fl">0.5</span>, <span class="fl">0.9</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Show the path of the caribou by connecting the dots ordered by time. Add an arrow with <code>arrow = arrow()</code> in the appropriate <code>geom</code> layer, and add the <code>time</code> label with <code>geom_text()</code>. Store the plot in a variable named <code>answer2.4</code>.</p>
<pre><code>answer2.4 &lt;- caribou %&gt;% 
  arrange(time) %&gt;% 
  ggplot(aes(FILL_THIS_IN)) + 
  FILL_THIS_IN(FILL_THIS_IN) +
  geom_text(aes(FILL_THIS_IN), nudge_x = 0.02) +
  theme_minimal()</code></pre>
<div id="cell-32" class="cell" data-editable="true" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;a1be537361a54cff5caece039d2bf199&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-12cdffdc7547201a&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce the plot</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-33" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;793a14a99b3f97d51d29ee9e42c9da32&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-9894ed1bcd4691fc&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]" data-execution_count="7">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.4</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.4</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"83b66"</span>)), <span class="st">"9a71a6eec88664676667dda82b63f703"</span>))</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.4</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.4</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.4</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"83b66"</span>)), <span class="st">"556d12715ad26c1253a10be640497638"</span>))</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.4</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.4</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.4</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"83b66"</span>)), <span class="st">"34c5f54ee79e785e4acc455deb5daa5c"</span>))</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.4, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.4</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.4</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"83b66"</span>)), <span class="st">"afb23bc8cd2625410f726dc260154a6b"</span>))</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.4, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.4</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.4</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"83b66"</span>)), <span class="st">"afb23bc8cd2625410f726dc260154a6b"</span>))</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.4 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.4</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"83b66"</span>)), <span class="st">"e8a3796bc122fef20d649828883b02fa"</span>))</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.4 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.4</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.4</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"83b66"</span>)), <span class="st">"afb23bc8cd2625410f726dc260154a6b"</span>))</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.4 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.4</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"83b66"</span>)), <span class="st">"2f3bbd0987e5d569f2e809a033e0ddd8"</span>))</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>ERROR: Error: object 'answer2.4' not found

Error: object 'answer2.4' not found
Traceback:

1. setequal(digest(paste(toString(sapply(seq_len(length(answer2.4$layers)), 
 .     function(i) {
 .         c(class(answer2.4$layers[[i]]$geom))[1]
 .     })), "83b66")), "9a71a6eec88664676667dda82b63f703")
2. digest(paste(toString(sapply(seq_len(length(answer2.4$layers)), 
 .     function(i) {
 .         c(class(answer2.4$layers[[i]]$geom))[1]
 .     })), "83b66"))
3. serialize(object, connection = NULL, ascii = ascii, version = serializeVersion)
4. paste(toString(sapply(seq_len(length(answer2.4$layers)), function(i) {
 .     c(class(answer2.4$layers[[i]]$geom))[1]
 . })), "83b66")
5. toString(sapply(seq_len(length(answer2.4$layers)), function(i) {
 .     c(class(answer2.4$layers[[i]]$geom))[1]
 . }))
6. sapply(seq_len(length(answer2.4$layers)), function(i) {
 .     c(class(answer2.4$layers[[i]]$geom))[1]
 . })
7. lapply(X = X, FUN = FUN, ...)
8. .handleSimpleError(function (cnd) 
 . {
 .     watcher$capture_plot_and_output()
 .     cnd &lt;- sanitize_call(cnd)
 .     watcher$push(cnd)
 .     switch(on_error, continue = invokeRestart("eval_continue"), 
 .         stop = invokeRestart("eval_stop"), error = NULL)
 . }, "object 'answer2.4' not found", base::quote(eval(expr, envir)))</code></pre>
</div>
</div>
</section>
<section id="question-2.5" class="level2">
<h2 class="anchored" data-anchor-id="question-2.5">QUESTION 2.5</h2>
<p>{points: 1}</p>
<p>Here’s the number of people having a certain hair colour from a sample of 592 people (be sure to run the following code chunk):</p>
<div id="cell-35" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;31480957351415897b7f3583d8dc6b12&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-df8babe03471bb86&quot;,&quot;locked&quot;:true,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>(hair <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(HairEyeColor) <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Hair, <span class="at">wt =</span> n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The following code is missing a statement in <code>geom_bar()</code>. Fix the code.</p>
<pre><code>answer2.5 &lt;- ggplot(hair, aes(Hair, n)) +
  geom_bar(aes(???????))</code></pre>
<p>Good to know: if you wanted <code>geom_bar</code> to specify a <em>proportion</em> instead of a <em>count</em> on the y-axis, you can do this by specifying <code>after_stat(prop)</code> as the y variable in your aesthetic mapping.</p>
<div id="cell-37" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;8634d24d3883a5c6beb72b4af18a9786&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-8f3800041b0b21c4&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce the plot here. </span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.5</span>)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-38" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;b552b7a754ca0998a803fef163caf836&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-c033d7d6aa040126&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.5</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.5</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"47d9c"</span>)), <span class="st">"2026f0a7c209c45c8b19e971119a10db"</span>))</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.5</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.5</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.5</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"47d9c"</span>)), <span class="st">"67f63707ae1df39d2534e9431890db97"</span>))</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.5</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.5</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.5</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"47d9c"</span>)), <span class="st">"d1ccbe8abcf5ca4ad14618f7c7faffc6"</span>))</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.5, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.5</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.5</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"47d9c"</span>)), <span class="st">"d1ccbe8abcf5ca4ad14618f7c7faffc6"</span>))</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.5, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.5</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.5</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"47d9c"</span>)), <span class="st">"d1ccbe8abcf5ca4ad14618f7c7faffc6"</span>))</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.5 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.5</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"47d9c"</span>)), <span class="st">"1c9d21f2f8ae4e19aab172b4baa915d9"</span>))</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.5 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.5</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.5</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"47d9c"</span>)), <span class="st">"d1ccbe8abcf5ca4ad14618f7c7faffc6"</span>))</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.5 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.5</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"47d9c"</span>)), <span class="st">"29ff534b178407dc0dcc99a318336556"</span>))</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-2.6" class="level2">
<h2 class="anchored" data-anchor-id="question-2.6">QUESTION 2.6</h2>
<p>{points: 1}</p>
<p>Using the <code>penguins</code> dataset from the palmerpenguins package, suppose you want to visualize the number of penguins per island. It seems that a bar chart could be useful for this purpose. Give it a try! Hint: bar charts only need specifying one axis (use the x axis). Store your answer in a variable named <code>answer2.6</code></p>
<pre><code>answer2.6 &lt;- ggplot(penguins, aes(FILL_THIS_IN)) + FILL_THIS_IN()</code></pre>
<p>Good to know: if you wanted to colour the bars by sex, producing a side-by-side bar chart, then in addition to specifying the <code>fill = sex</code> aesthetic, just specify the <code>position = "dodge"</code> option within the geom that creates the bar.</p>
<div id="question-2-9" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;e831b39c6acc935e55130620f78e9d61&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-b4567343484094b9&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce your plot here. </span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="test-2-9" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;4a40555c8b2a0485040d75beaaa9ab70&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-cc7004186fd3616e&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.6</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.6</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"adecc"</span>)), <span class="st">"27c3bb246314ff50e79c5e7a098080bc"</span>))</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.6</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.6</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.6</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"adecc"</span>)), <span class="st">"1d048269e1987230df8981ab6c6e0a8b"</span>))</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.6</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.6</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.6</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"adecc"</span>)), <span class="st">"6ae77e9af1911aed965d137154d7b944"</span>))</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.6, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.6</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.6</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"adecc"</span>)), <span class="st">"6ae77e9af1911aed965d137154d7b944"</span>))</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.6, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.6</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.6</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"adecc"</span>)), <span class="st">"6ae77e9af1911aed965d137154d7b944"</span>))</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.6 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.6</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"adecc"</span>)), <span class="st">"bb8c833082db1cab3a80d1511e0e6489"</span>))</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.6 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.6</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.6</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"adecc"</span>)), <span class="st">"6ae77e9af1911aed965d137154d7b944"</span>))</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.6 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.6</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"adecc"</span>)), <span class="st">"49943a85f8db8160aaed0044d5a974c6"</span>))</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Great job! FYI: sometimes it’s useful to swap the axes, especially if the category (penguin) names are long. Here is another handy way to flip the coordinates, instead of plotting the graph again.</p>
<div id="cell-43" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;771634837ba1094c8e7434b98d4e0ed7&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-951a858de782b0bc&quot;,&quot;locked&quot;:true,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>answer2<span class="fl">.6</span> <span class="sc">+</span> <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-2.7" class="level2">
<h2 class="anchored" data-anchor-id="question-2.7">QUESTION 2.7</h2>
<p>{points: 1}</p>
<p>In the <code>penguins</code> dataset from the palmerpenguins package, explore the relationship between flipper length and body mass (if any!). A scaffold of the ggplot2 recipe can be found below. Use the following parameters:</p>
<ul>
<li>Flipper length should be on the x axis, and body mass should be on the y axis.</li>
<li>Color by species.</li>
<li>Set the size of the points to 3, and the alpha (transparency) to 0.8.</li>
</ul>
<p>Store the result in a variable named <code>answer2.7</code></p>
<p>If a warning message for missing values appears, you can safely ignore it.</p>
<pre><code>answer2.7 &lt;- ggplot(FILL_THIS_IN, aes(FILL_THIS_IN, FILL_THIS_IN)) +
 geom_point(aes(color = FILL_THIS_IN),
            size = FILL_THIS_IN,
            alpha = FILL_THIS_IN) </code></pre>
<div id="question-2-7" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;a97e02ddbc7255603b9bb250fa4496b4&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-4ba9a5adab668e78&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce your plot here. </span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.7</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="test-2-7" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;1613474a78ee3fc0c5db82a7dc8563db&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-e15d2ec7b140d6ed&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.7</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.7</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"da27f"</span>)), <span class="st">"abeb6e3409a25d1bab5517cef5765e7a"</span>))</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.7</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.7</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.7</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"da27f"</span>)), <span class="st">"093c6ee41b3d4ec1541650998f4f83c8"</span>))</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.7</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.7</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.7</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"da27f"</span>)), <span class="st">"9be2eda2d31910d8ec58e77c6f489711"</span>))</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.7, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.7</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.7</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"da27f"</span>)), <span class="st">"54ddabf9f4463060205206b1a4f5297b"</span>))</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.7, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.7</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.7</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"da27f"</span>)), <span class="st">"03ef363c750cb1ebcef39974cf6fb4a0"</span>))</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.7 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.7</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"da27f"</span>)), <span class="st">"40b64a35d97ce51b3fb80e6a7148fbf2"</span>))</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.7 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.7</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.7</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"da27f"</span>)), <span class="st">"03ef363c750cb1ebcef39974cf6fb4a0"</span>))</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.7 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.7</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"da27f"</span>)), <span class="st">"16211fdd61fe04431415e157a55730df"</span>))</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-2.8" class="level2">
<h2 class="anchored" data-anchor-id="question-2.8">QUESTION 2.8</h2>
<p>{points: 1}</p>
<p>Try the same as in 2.7 (flipper length vs.&nbsp;body mass), but this time coloring by island! See if you can write the code without looking at the last question. Store your answer in a variable named <code>answer2.8</code>. If a warning message for missing values appears, you can safely ignore it.</p>
<pre><code>answer2.8 &lt;- ggplot(FILL_THIS_IN, aes(FILL_THIS_IN, FILL_THIS_IN)) +
 geom_point(aes(color = FILL_THIS_IN),
            size = FILL_THIS_IN,
            alpha = FILL_THIS_IN) </code></pre>
<div id="question-2-8" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;4d48dae099543d43f9d448877b345174&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-e68ab5a4cf8e0418&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce your plot here. </span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(answer2<span class="fl">.8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="test-2-8" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;1af95a5c1b98fe83f26ae3df977d1400&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-f2e828941518af29&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.8</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.8</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"29f07"</span>)), <span class="st">"91c417437730f8d01d82787f841f7937"</span>))</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.8</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.8</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.8</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"29f07"</span>)), <span class="st">"9e7b86856f9518921eeec6addd8052c9"</span>))</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.8</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.8</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.8</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"29f07"</span>)), <span class="st">"16db74c84ddb98d43252dd48f3eb4728"</span>))</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.8, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.8</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.8</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"29f07"</span>)), <span class="st">"9d9d52240cfaf6934667db9d3c752dc8"</span>))</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.8, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.8</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.8</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"29f07"</span>)), <span class="st">"ae970520dc041c9977e9e903c52a5b00"</span>))</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.8 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.8</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"29f07"</span>)), <span class="st">"202564c30cf51b055a12874090621353"</span>))</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.8 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.8</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.8</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"29f07"</span>)), <span class="st">"ae970520dc041c9977e9e903c52a5b00"</span>))</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.8 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.8</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"29f07"</span>)), <span class="st">"bde45c333a906dc22008ed79e99df787"</span>))</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-2.9" class="level2">
<h2 class="anchored" data-anchor-id="question-2.9">QUESTION 2.9</h2>
<p>{points: 1}</p>
<p>Maybe you want to explore the <em>distribution</em> of body mass. Histograms are useful for this purpose.</p>
<p>Make a histogram of penguin body mass, and store the result in a variable named <code>answer2.9</code>. But, instead of the height of the bars representing a <em>count</em>, have it represent the <em>density</em> by specifying <code>after_stat(density)</code> as the y variable.</p>
<pre><code>answer2.9 &lt;- ggplot(FILL_THIS_IN, aes(FILL_THIS_IN)) +
   geom_histogram()</code></pre>
<p>You can safely ignore the warning about the scale range.</p>
<div id="question-2-10" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;fe4743f863f68ed22ae2646f7e4ddb66&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-4095f01855b8c595&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce your plot here. </span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="test-2-10" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;4c385a7596d17e9f7a23e77660dfc03f&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-bf5b8fd5f1bcc43b&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.9</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.9</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"c2997"</span>)), <span class="st">"6a08cce16f43fda7527db84d8de64af1"</span>))</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.9</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.9</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.9</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"c2997"</span>)), <span class="st">"3e171dc503a5ad360f12baf6c83da1d4"</span>))</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.9</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.9</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.9</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"c2997"</span>)), <span class="st">"e74c854d0d9245c6593dbbeb86346ac9"</span>))</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.9, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.9</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.9</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"c2997"</span>)), <span class="st">"7c079ba75452e8aa3278572f3531a5f4"</span>))</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.9, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.9</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.9</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"c2997"</span>)), <span class="st">"7c079ba75452e8aa3278572f3531a5f4"</span>))</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.9 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.9</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"c2997"</span>)), <span class="st">"28c5832eb9420534eb206c88540972f2"</span>))</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.9 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.9</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.9</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"c2997"</span>)), <span class="st">"7c079ba75452e8aa3278572f3531a5f4"</span>))</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.9 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.9</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"c2997"</span>)), <span class="st">"9f402ae9c4964a8f9f19f3f3c7c12ee2"</span>))</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-2.10" class="level2">
<h2 class="anchored" data-anchor-id="question-2.10">QUESTION 2.10</h2>
<p>{points: 1}</p>
<p>Another option for viewing distributions, besides histograms, is to plot the <em>kernel density function</em>. This geom can be achieved with <code>geom_density()</code>.</p>
<p>Plot the density of body mass for each species. Distinguish species by colour (if you decide to use the <code>fill</code> aesthetic, be sure to add some alpha transparency). Store your answer in a variable named <code>answer2.10</code>.</p>
<pre><code>answer2.10 &lt;- ggplot(penguins, aes(x = FILL_THIS_IN)) + 
    geom_density(FILL_THIS_IN)</code></pre>
<p>You can again ignore the warning message about the scale range.</p>
<div id="question-2-11" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;fb0e22913f11b0265fb677028736ec3f&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-74f35318290808f1&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce your plot here. </span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="test-2-11" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;ae1ee8a940784f660ff1573dee9d744b&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-e74c8cd01eea8f9c&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.10</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.10</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"51188"</span>)), <span class="st">"428f230847afa20c26850f81c64d7418"</span>))</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.10</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.10</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.10</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"51188"</span>)), <span class="st">"6e85782a27508c9c1f5bf4abe06374d3"</span>))</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.10</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.10</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.10</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"51188"</span>)), <span class="st">"9c3be981432f2e3c27f76255bae62a39"</span>))</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.10, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.10</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.10</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"51188"</span>)), <span class="st">"9c3be981432f2e3c27f76255bae62a39"</span>))</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.10, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.10</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.10</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"51188"</span>)), <span class="st">"9c3be981432f2e3c27f76255bae62a39"</span>))</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.10 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.10</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"51188"</span>)), <span class="st">"cc61be8987942a82cf148c2d801c3614"</span>))</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.10 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.10</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.10</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"51188"</span>)), <span class="st">"04814c8dfae9c68f71aa835c3c3a3a10"</span>))</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.10 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.10</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"51188"</span>)), <span class="st">"603ac973a9dce699d0f9835ad8338993"</span>))</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-2.11" class="level2">
<h2 class="anchored" data-anchor-id="question-2.11">QUESTION 2.11</h2>
<p>{points: 1}</p>
<p>Let’s look at two more types of plot to once again explore the relationship between body mass and penguin species. Stripplots are univariate scatterplots, and they are a useful way of visualizing how, in this case, body mass is spread within each species.</p>
<p>The large amount of overlapping points in the following plot makes it hard to to visualize distributions. Change the plot to a <em>jitterplot</em> by using a different <code>geom</code>. Tip: use <code>width = 0.1</code> so that the points don’t jitter too far away.</p>
<pre><code>answer2.11 &lt;- ggplot(penguins, aes(species, body_mass_g)) + 
    geom_point(alpha = 0.5)</code></pre>
<p>Again, you can ignore the scale range warning.</p>
<div id="question-2-12" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;4b116258306b15b34db8d5882bc6ba3c&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-520bf151ca9cc28b&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce the plot here. </span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.11</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="test-2-12" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;054beb33cf651129384bb6dbf6b698ef&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-7adad7a8b2bcf435&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.11</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.11</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"ccc43"</span>)), <span class="st">"660c8265040388bd971bd5e57dffce21"</span>))</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.11</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.11</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.11</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"ccc43"</span>)), <span class="st">"e0a7bc41a7513d69e4c849f7e512ca2e"</span>))</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.11</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.11</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.11</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"ccc43"</span>)), <span class="st">"09df87a71b92045788e94781731572b8"</span>))</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.11, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.11</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.11</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"ccc43"</span>)), <span class="st">"0989365ccb53f9063242cac922329fca"</span>))</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.11, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.11</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.11</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"ccc43"</span>)), <span class="st">"0989365ccb53f9063242cac922329fca"</span>))</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.11 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.11</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"ccc43"</span>)), <span class="st">"5f190d429ba395fc2b68e955e22be923"</span>))</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.11 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.11</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.11</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"ccc43"</span>)), <span class="st">"0989365ccb53f9063242cac922329fca"</span>))</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.11 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.11</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"ccc43"</span>)), <span class="st">"8bb69b7d51c1ed4fc636704eadf9d25c"</span>))</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-2.12" class="level2">
<h2 class="anchored" data-anchor-id="question-2.12">QUESTION 2.12</h2>
<p>{points: 1}</p>
<p>Boxplots are another approach for visualizing distributions. Reproduce the plot in Question 2.11, but as boxplots instead of stripplots. Do so by filling in the following scaffolding. Hint: there’s a <code>geom</code> for boxplots. Tip: as in the jitterplots, we recommend changing the width of the boxplots, too – say <code>width = 0.2</code>.</p>
<pre><code>answer2.12 &lt;- ggplot(FILL_THIS_IN, aes(FILL_THIS_IN, FILL_THIS_IN)) + 
    FILL_THIS_IN(width = 0.2)</code></pre>
<p>Ignore the scale range warning.</p>
<div id="question-2-13" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;7506d45714a28875f13e6ae854f4f81e&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-93e1df4dfca6935b&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce your plot here. </span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="test-2-13" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;4954425ec4488cc6504b1e7cb26ffb2e&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-15cf5e7794b5146a&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.12</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.12</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"aa52e"</span>)), <span class="st">"d37492b2cf34669bb5893ef71c062e4b"</span>))</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.12</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.12</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.12</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"aa52e"</span>)), <span class="st">"241fb2df6f8d87881ef97978ab6b9aa7"</span>))</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.12</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.12</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.12</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"aa52e"</span>)), <span class="st">"309ad3e335fbda15191de1a5bc22600b"</span>))</span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.12, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.12</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.12</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"aa52e"</span>)), <span class="st">"e11f81ccfae0e23d9baa0bb28a197da0"</span>))</span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.12, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.12</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.12</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"aa52e"</span>)), <span class="st">"e11f81ccfae0e23d9baa0bb28a197da0"</span>))</span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.12 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.12</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"aa52e"</span>)), <span class="st">"4b05998c5ca7d0be06ac953701785dc0"</span>))</span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.12 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.12</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.12</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"aa52e"</span>)), <span class="st">"e11f81ccfae0e23d9baa0bb28a197da0"</span>))</span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.12 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.12</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"aa52e"</span>)), <span class="st">"c95714742df820e5c7a624766f4e3602"</span>))</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-2.13" class="level2">
<h2 class="anchored" data-anchor-id="question-2.13">QUESTION 2.13</h2>
<p>{points: 1}</p>
<p>Yet another way to plot distributions is to stack multiple kernel density estimates across different categories on the y-axis. The effect is like viewing a mountain range from an airplane.</p>
<p>Plot the distribution of life expectancy for European countries, using a ridge plot, by filling in the following scaffolding. Hint: use the <code>geom_density_ridges()</code> geom from the ggridges package.</p>
<p>(Sure, the life expectancies associated with a country are observed over time, and are definitely not “iid” in the statistical sense, yet this plot still has value.)</p>
<pre><code>answer2.13 &lt;- gapminder %&gt;% 
   filter(continent == "Europe") %&gt;% 
   ggplot(aes(FILL_THIS_IN, FILL_THIS_IN)) +
   ggridges::FILL_THIS_IN()</code></pre>
<div id="cell-63" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;feb40cc5101cdf62c5f4414d61a405da&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-a6c76422069687b6&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce the plot here. </span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.13</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-64" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;d811b2ad75b18445a397e9eda51647d2&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-d360cff0a96a9161&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.13</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.13</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"7fe3f"</span>)), <span class="st">"e49dd94f6ac7efceabf60596af45d69a"</span>))</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.13</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.13</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.13</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"7fe3f"</span>)), <span class="st">"c859a137498391b067e395e6653a9bdc"</span>))</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.13</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.13</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.13</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"7fe3f"</span>)), <span class="st">"3c0702a51e3adc951a9589bc1c525e0a"</span>))</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.13, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.13</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.13</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"7fe3f"</span>)), <span class="st">"1e96a4043b41131ace4845861be3a37a"</span>))</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.13, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.13</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.13</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"7fe3f"</span>)), <span class="st">"1e96a4043b41131ace4845861be3a37a"</span>))</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.13 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.13</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"7fe3f"</span>)), <span class="st">"68c9fc8154346e627f58ce4697e9c8aa"</span>))</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.13 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.13</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.13</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"7fe3f"</span>)), <span class="st">"1e96a4043b41131ace4845861be3a37a"</span>))</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.13 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.13</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"7fe3f"</span>)), <span class="st">"e5d3eb14e48423b28a37dbbba32ac594"</span>))</span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-2.14" class="level2">
<h2 class="anchored" data-anchor-id="question-2.14">QUESTION 2.14</h2>
<p>{points: 1}</p>
<p>The code below produces a scatterplot of GDP per capita against life expectancy, with points coloured by continent. But, it’s hard to distinguish between continents. Modify the plot so that continents are separated into their own panels (hint: use facetting).</p>
<p>Tip: Change the x-axis text to be in “dollar format” with <code>labels = scales::dollar_format()</code> when specifying the scale.</p>
<pre><code>answer2.14 &lt;- gapminder %&gt;%
  ggplot(aes(gdpPercap, lifeExp, colour = continent)) +
  geom_point(alpha = 0.2) +
  scale_x_log10()</code></pre>
<div id="cell-66" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;8cb90beff1258e8cf55a4a906ff6a471&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-9ee5da2d49d01716&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer2<span class="fl">.14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-67" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;b7c54b83b4526096dc7348d414d19e57&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-40960cdcc5c1b968&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.14</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer2<span class="fl">.14</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"49730"</span>)), <span class="st">"e8fd6e7c0478b5ffecabf8cef29a2c95"</span>))</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.14</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.14</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.14</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"49730"</span>)), <span class="st">"9338e9913e319b82e80505786a41f678"</span>))</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer2<span class="fl">.14</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.14</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer2<span class="fl">.14</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"49730"</span>)), <span class="st">"b88c1d3469914d908303baceae0c2575"</span>))</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer2.14, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.14</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.14</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"49730"</span>)), <span class="st">"19606094fa9bbeb13161e4ba936bd6bf"</span>))</span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer2.14, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer2<span class="fl">.14</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer2<span class="fl">.14</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"49730"</span>)), <span class="st">"19606094fa9bbeb13161e4ba936bd6bf"</span>))</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer2.14 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer2<span class="fl">.14</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"49730"</span>)), <span class="st">"567a894e95b9dc0399a8f0fd6fd08b53"</span>))</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer2.14 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer2<span class="fl">.14</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer2<span class="fl">.14</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"49730"</span>)), <span class="st">"19606094fa9bbeb13161e4ba936bd6bf"</span>))</span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer2.14 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer2<span class="fl">.14</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"49730"</span>)), <span class="st">"dd25f5daf0af7e66c513a27cbb692531"</span>))</span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="part-3-fix-the-plots" class="level1">
<h1>Part 3: Fix the plots!</h1>
<p>In this section, we’ll be looking at some erroneous plots and fixing them.</p>
<section id="question-3.0" class="level2">
<h2 class="anchored" data-anchor-id="question-3.0">QUESTION 3.0</h2>
<p>{points: 1}</p>
<p>Besides alpha transparency, we can fix the issue of overlapping points by making the points smaller. The following code fails to reduce the point size to 0.1 – can you fix it?</p>
<pre><code>answer3.0 &lt;- ggplot(gapminder) +
  geom_point(aes(gdpPercap, lifeExp, size = 0.1)) +
  scale_x_log10(labels = scales::dollar_format())</code></pre>
<div id="cell-70" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;0715523d3178dcd12b1b1d5d253e4cb9&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-b28ea46f0e6cce0d&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer3<span class="fl">.0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-71" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;10a1317e5bb4dff8ead64798c322f037&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-1bb9ffe3e12eea95&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer3<span class="fl">.0</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer3<span class="fl">.0</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"5f473"</span>)), <span class="st">"8ff4116048d68a36f5af0276a6b8db88"</span>))</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer3<span class="fl">.0</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.0</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer3<span class="fl">.0</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"5f473"</span>)), <span class="st">"60e3fb041e19840c6ae7e67aba93e54c"</span>))</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer3<span class="fl">.0</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.0</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer3<span class="fl">.0</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"5f473"</span>)), <span class="st">"c86fbe503a754cfe8f2bb47c87ec3bc6"</span>))</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer3.0, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.0</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer3<span class="fl">.0</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"5f473"</span>)), <span class="st">"7a7794d7082682ff076e8cf4f4d1dd13"</span>))</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer3.0, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.0</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer3<span class="fl">.0</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"5f473"</span>)), <span class="st">"7a7794d7082682ff076e8cf4f4d1dd13"</span>))</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer3.0 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer3<span class="fl">.0</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"5f473"</span>)), <span class="st">"4f38ba708a2f133ad6c69c755823fdcd"</span>))</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer3.0 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer3<span class="fl">.0</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer3<span class="fl">.0</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"5f473"</span>)), <span class="st">"7a7794d7082682ff076e8cf4f4d1dd13"</span>))</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer3.0 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer3<span class="fl">.0</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"5f473"</span>)), <span class="st">"3d4cc156bb1df6d632129256df05271f"</span>))</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-3.1" class="level2">
<h2 class="anchored" data-anchor-id="question-3.1">QUESTION 3.1</h2>
<p>{points: 1}</p>
<p>Fix the plot so that the size of the dots is related to the body mass, and so that the dots are colored by species.</p>
<p>Assign your answer to a variable named <code>answer3.1</code>.</p>
<pre><code>answer3.1 &lt;- ggplot(penguins, aes(x = body_mass_g, y = flipper_length_mm) +
       geom_point(shape = 21,
                  size = species,
                  fill = island))</code></pre>
<p>You can ignore the warning about missing values.</p>
<div id="cell-73" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;1eff8a2a5cf4de125ab8f7518e44f177&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-9aa8029613c3c82a&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer3<span class="fl">.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-74" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;694fd9999efe229524b53c399d7b465d&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-86ff95a18e8ad74d&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer3<span class="fl">.1</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer3<span class="fl">.1</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"8b349"</span>)), <span class="st">"ed95518f4f91420f6bc76e1e066ecbd2"</span>))</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer3<span class="fl">.1</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.1</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer3<span class="fl">.1</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"8b349"</span>)), <span class="st">"adcbf00dd6b6d28b9fdb8c7a6547e6c0"</span>))</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer3<span class="fl">.1</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.1</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer3<span class="fl">.1</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"8b349"</span>)), <span class="st">"ac4ca331cf1668751d87b38adef74b58"</span>))</span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer3.1, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.1</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer3<span class="fl">.1</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"8b349"</span>)), <span class="st">"0dac74c4610535f29a7216f3f3c8f16e"</span>))</span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer3.1, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.1</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer3<span class="fl">.1</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"8b349"</span>)), <span class="st">"0dac74c4610535f29a7216f3f3c8f16e"</span>))</span>
<span id="cb75-7"><a href="#cb75-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer3.1 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer3<span class="fl">.1</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"8b349"</span>)), <span class="st">"2b08b7f2786829f07193e93b891779db"</span>))</span>
<span id="cb75-8"><a href="#cb75-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer3.1 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer3<span class="fl">.1</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer3<span class="fl">.1</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"8b349"</span>)), <span class="st">"bf38b09d4097b261c0c578e9cba12046"</span>))</span>
<span id="cb75-9"><a href="#cb75-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer3.1 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer3<span class="fl">.1</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"8b349"</span>)), <span class="st">"b08aa422a434c989cb1e2e4d30692a67"</span>))</span>
<span id="cb75-10"><a href="#cb75-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb75-11"><a href="#cb75-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-3.2" class="level2">
<h2 class="anchored" data-anchor-id="question-3.2">QUESTION 3.2</h2>
<p>{points: 1}</p>
<p>Using the <code>penguins</code> dataset from the palmerpenguins package, the following code aims to view the relationship between flipper length (X) and body mass (Y) for each species (facet), by sex (colour). Fix the mistake in the code.</p>
<pre><code>answer3.2 &lt;- ggplot(penguins, aes(flipper_length_mm, body_mass_g, facet = species)) +
  geom_point(aes(color = sex),
             size = 3,
             alpha = 0.8) +
  theme_minimal() +
  facet_wrap(~ species)</code></pre>
<p>Ignore the warning about missing values/scale range.</p>
<div id="cell-76" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;a85c276c01336b99103809fde7fbb42e&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-20b4487e862f40c9&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer3<span class="fl">.2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-77" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;071f1af8c31c49ad028f71a1b519e067&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-ae29c516f77ef8f6&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer3<span class="fl">.2</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer3<span class="fl">.2</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"4cd74"</span>)), <span class="st">"43dfb4d464746894916fb73cf9c41ee6"</span>))</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer3<span class="fl">.2</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.2</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer3<span class="fl">.2</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"4cd74"</span>)), <span class="st">"1fc61ab2d08dda91a06931562471d7ee"</span>))</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer3<span class="fl">.2</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.2</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer3<span class="fl">.2</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"4cd74"</span>)), <span class="st">"69dfd077ba0fcb4d042c1d7a4485e3f0"</span>))</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer3.2, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.2</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer3<span class="fl">.2</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"4cd74"</span>)), <span class="st">"65fa87e550643a394d34cb4a35fd4ce1"</span>))</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer3.2, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.2</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer3<span class="fl">.2</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"4cd74"</span>)), <span class="st">"01447c64e3451155e969c10c45de4227"</span>))</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer3.2 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer3<span class="fl">.2</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"4cd74"</span>)), <span class="st">"14d519c5e7d090bc1707445b1bd010cc"</span>))</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer3.2 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer3<span class="fl">.2</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer3<span class="fl">.2</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"4cd74"</span>)), <span class="st">"01447c64e3451155e969c10c45de4227"</span>))</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer3.2 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer3<span class="fl">.2</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"4cd74"</span>)), <span class="st">"f848313815670d44d5939ab8fbebbcd1"</span>))</span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-3.3" class="level2">
<h2 class="anchored" data-anchor-id="question-3.3">QUESTION 3.3</h2>
<p>{points: 1}</p>
<p>The following plot is a failed attempt at plotting each country’s life expectancy over time, so that each country gets its own line. To plot multiple lines in one graph, we need to group by country – but aren’t we doing that in the second line? Fix the code.</p>
<pre><code>answer3.3 &lt;- gapminder %&gt;% 
   group_by(country) %&gt;% 
   ggplot(aes(year, lifeExp)) +
   facet_wrap(~ continent) +
   geom_line(alpha = 0.2) +
   theme_minimal()</code></pre>
<div id="cell-79" class="cell" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;a7fcccbebd08ea3e963c795da0a00c61&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-7389d0040fd8bd0e&quot;,&quot;locked&quot;:false,&quot;schema_version&quot;:3,&quot;solution&quot;:true,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Produce the plot here. </span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="co"># your code here</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="fu">fail</span>() <span class="co"># No Answer - remove if you provide an answer</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(answer3<span class="fl">.3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-80" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;114a10e8d270b03605567dfb6cb7827e&quot;,&quot;grade&quot;:true,&quot;grade_id&quot;:&quot;cell-fca60e03990c3406&quot;,&quot;locked&quot;:true,&quot;points&quot;:1,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}" data-slideshow="{&quot;slide_type&quot;:&quot;&quot;}" data-tags="[]">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(digest)</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"type of plot is not correct (if you are using two types of geoms, try flipping the order of the geom objects!)"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer3<span class="fl">.3</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {<span class="fu">c</span>(<span class="fu">class</span>(answer3<span class="fl">.3</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>geom))[<span class="dv">1</span>]})), <span class="st">"1a424"</span>)), <span class="st">"426228f47e5ed78a2f9dc2d11d85bc4f"</span>))</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable x is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer3<span class="fl">.3</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.3</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer3<span class="fl">.3</span><span class="sc">$</span>mapping)<span class="sc">$</span>x)}), as.character))), <span class="st">"1a424"</span>)), <span class="st">"06113d80899d82d0e2cf1799bb63e95c"</span>))</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"variable y is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">unlist</span>(<span class="fu">lapply</span>(<span class="fu">sapply</span>(<span class="fu">seq_len</span>(<span class="fu">length</span>(answer3<span class="fl">.3</span><span class="sc">$</span>layers)), <span class="cf">function</span>(i) {rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.3</span><span class="sc">$</span>layers[[i]]<span class="sc">$</span>mapping, answer3<span class="fl">.3</span><span class="sc">$</span>mapping)<span class="sc">$</span>y)}), as.character))), <span class="st">"1a424"</span>)), <span class="st">"c505e622f477812a968cfc651450932e"</span>))</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect colour variable in answer3.3, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.3</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer3<span class="fl">.3</span><span class="sc">$</span>mapping)<span class="sc">$</span>colour)), <span class="st">"1a424"</span>)), <span class="st">"0510aac60dd25a52268835f1f2214d9e"</span>))</span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"incorrect shape variable in answer3.3, specify a correct one if required"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(rlang<span class="sc">::</span><span class="fu">get_expr</span>(<span class="fu">c</span>(answer3<span class="fl">.3</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>mapping, answer3<span class="fl">.3</span><span class="sc">$</span>mapping)<span class="sc">$</span>shape)), <span class="st">"1a424"</span>)), <span class="st">"0510aac60dd25a52268835f1f2214d9e"</span>))</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill variable in answer3.3 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">quo_name</span>(answer3<span class="fl">.3</span><span class="sc">$</span>mapping<span class="sc">$</span>fill)), <span class="st">"1a424"</span>)), <span class="st">"3a0b2220aa9497c29a5f8a6d0ae76bba"</span>))</span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"fill label in answer3.3 is not informative"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>((<span class="fu">quo_name</span>(answer3<span class="fl">.3</span><span class="sc">$</span>mapping<span class="sc">$</span>fill) <span class="sc">!=</span> answer3<span class="fl">.3</span><span class="sc">$</span>labels<span class="sc">$</span>fill)), <span class="st">"1a424"</span>)), <span class="st">"0510aac60dd25a52268835f1f2214d9e"</span>))</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a><span class="fu">stopifnot</span>(<span class="st">"position argument in answer3.3 is not correct"</span><span class="ot">=</span> <span class="fu">setequal</span>(<span class="fu">digest</span>(<span class="fu">paste</span>(<span class="fu">toString</span>(<span class="fu">class</span>(answer3<span class="fl">.3</span><span class="sc">$</span>layers[[<span class="dv">1</span>]]<span class="sc">$</span>position)[<span class="dv">1</span>]), <span class="st">"1a424"</span>)), <span class="st">"7faac2971726d183a48625510872c64b"</span>))</span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">'Success!'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="part-4-challenges-not-for-points" class="level1">
<h1>Part 4: Challenges (<em>Not for points</em>)</h1>
<p>Use your creativity to produce plots for the following situations. This is not for points. Suggested solutions are provided in Part 5. Note that you may need to incorporate data manipulation here.</p>
<section id="question-4.0" class="level2">
<h2 class="anchored" data-anchor-id="question-4.0">QUESTION 4.0</h2>
<p>Using the <code>gapminder</code> dataset: for each continent, how does the number of countries having a “low” life expectancy change across time? Let’s say life expectancy is “low” if it’s less than its continent’s median life expectancy as observed on the latest year (2007) in the gapminder dataset.</p>
<div id="cell-82" class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-4.1" class="level2">
<h2 class="anchored" data-anchor-id="question-4.1">QUESTION 4.1</h2>
<p>From Question 3.3:</p>
<blockquote class="blockquote">
<p>The following plot is a failed attempt at plotting each country’s life expectancy over time, so that each country gets its own line. To plot multiple lines in one graph, we need to group by country – but aren’t we doing that in the second line? Fix the code.</p>
</blockquote>
<pre><code>answer3.3 &lt;- gapminder %&gt;% 
   group_by(country) %&gt;% 
   ggplot(aes(year, lifeExp)) +
   facet_wrap(~ continent) +
   geom_line(alpha = 0.2) +
   theme_minimal()</code></pre>
<p>In addition:</p>
<ol type="1">
<li>Produce a band representing the 80% prediction interval of life expectancies for each continent and each year. <em>Hint</em>: use Base R’s <code>quantile()</code> function with <code>probs = 0.9</code> and <code>probs = 0.1</code> to produce the upper and lower bands, and use <code>geom_ribbon()</code> as your geometric object.</li>
<li>Drop Oceania, as it only has two countries on record (so a prediction interval wouldn’t make much sense).</li>
</ol>
<div id="cell-84" class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here. </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-4.2" class="level2">
<h2 class="anchored" data-anchor-id="question-4.2">QUESTION 4.2</h2>
<p>From the gapminder dataset, was a drop in life expectancy just as likely for any year, or were some years more prone to see a drop than others?</p>
<div id="cell-86" class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-4.3" class="level2">
<h2 class="anchored" data-anchor-id="question-4.3">QUESTION 4.3</h2>
<p>Using the gapminder dataset, how has the distribution of GDP per capita (across countries) changed over time for each continent?</p>
<div id="cell-88" class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Your code here</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="part-5-suggested-solutions-to-part-4" class="level1">
<h1>Part 5: Suggested Solutions to Part 4</h1>
<section id="suggested-answer-to-question-4.0" class="level2">
<h2 class="anchored" data-anchor-id="suggested-answer-to-question-4.0">Suggested Answer to QUESTION 4.0</h2>
<blockquote class="blockquote">
<p>Using the <code>gapminder</code> dataset: for each continent, how does the number of countries having a “low” life expectancy change across time? Let’s say life expectancy is “low” if it’s less than its continent’s median life expectancy as observed on the latest year (2007) in the gapminder dataset.</p>
</blockquote>
<div id="cell-90" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;2fb9b3ad3c860541b1db65d963ac8e25&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-80276eb03aa2a6b5&quot;,&quot;locked&quot;:true,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(continent, year) <span class="sc">%&gt;%</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">median =</span> <span class="fu">median</span>(lifeExp)) <span class="sc">%&gt;%</span> </span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(lifeExp <span class="sc">&lt;</span> <span class="fu">last</span>(median)) <span class="sc">%&gt;%</span> </span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(continent, year) <span class="sc">%&gt;%</span> </span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(year, n)) <span class="sc">+</span></span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">colour =</span> continent)) <span class="sc">+</span></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"# of countries with low lifeExp"</span>) <span class="sc">+</span></span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_discrete</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="suggested-answer-to-question-4.1" class="level2">
<h2 class="anchored" data-anchor-id="suggested-answer-to-question-4.1">Suggested Answer to QUESTION 4.1</h2>
<blockquote class="blockquote">
<p>From Question 3.3:</p>
<blockquote class="blockquote">
<p>The following plot is a failed attempt at plotting each country’s life expectancy over time, so that each country gets its own line. To plot multiple lines in one graph, we need to group by country – but aren’t we doing that in the second line? Fix the code.</p>
</blockquote>
<pre><code>answer3.3 &lt;- gapminder %&gt;% 
group_by(country) %&gt;% 
ggplot(aes(year, lifeExp)) +
facet_wrap(~ continent) +
geom_line(alpha = 0.2) +
theme_minimal()</code></pre>
<p>In addition:</p>
<ol type="1">
<li>Produce a band representing the 80% prediction interval of life expectancies for each continent and each year. <em>Hint</em>: use Base R’s <code>quantile()</code> function with <code>probs = 0.9</code> and <code>probs = 0.1</code> to produce the upper and lower bands, and use <code>geom_ribbon()</code> as your geometric object.</li>
<li>Drop Oceania, as it only has two countries on record (so a prediction interval wouldn’t make much sense).</li>
</ol>
</blockquote>
<div id="cell-92" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;e9ef3a5493a1cffa6b8b7db54bdf8da1&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-a4bf76ba17ca73d8&quot;,&quot;locked&quot;:true,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(continent <span class="sc">!=</span> <span class="st">"Oceania"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(continent, year) <span class="sc">%&gt;%</span> </span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">upper =</span> <span class="fu">quantile</span>(gdpPercap, <span class="fl">0.9</span>), </span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">lower =</span> <span class="fu">quantile</span>(gdpPercap, <span class="fl">0.1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(year, gdpPercap)) <span class="sc">+</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">ymin =</span> lower, <span class="at">ymax =</span> upper), <span class="at">alpha =</span> <span class="dv">2</span> <span class="sc">/</span> <span class="dv">3</span>, <span class="at">fill =</span> <span class="st">"gray"</span>) <span class="sc">+</span></span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> country, <span class="at">colour =</span> continent), <span class="at">alpha =</span> <span class="dv">1</span> <span class="sc">/</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> continent) <span class="sc">+</span></span>
<span id="cb89-10"><a href="#cb89-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_log10</span>(<span class="st">"GDP Per Capita"</span>, <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">dollar_format</span>()) <span class="sc">+</span></span>
<span id="cb89-11"><a href="#cb89-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">colour =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb89-12"><a href="#cb89-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="suggested-answer-to-question-4.2" class="level2">
<h2 class="anchored" data-anchor-id="suggested-answer-to-question-4.2">Suggested Answer to QUESTION 4.2</h2>
<blockquote class="blockquote">
<p>From the gapminder dataset, was a drop in life expectancy just as likely for any year, or were some years more prone to see a drop than others?</p>
</blockquote>
<div id="cell-94" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;a060d2b07deed1f32c09b0b28b4dd3bc&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-7c3a08a2f62191bd&quot;,&quot;locked&quot;:true,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country) <span class="sc">%&gt;%</span> </span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year) <span class="sc">%&gt;%</span> </span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">inc =</span> lifeExp <span class="sc">-</span> <span class="fu">lag</span>(lifeExp)) <span class="sc">%&gt;%</span> </span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(inc <span class="sc">&lt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(year)) <span class="sc">+</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Number of countries with a</span><span class="sc">\n</span><span class="st">drop in life expectancy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="suggested-answer-to-question-4.3" class="level2">
<h2 class="anchored" data-anchor-id="suggested-answer-to-question-4.3">Suggested Answer to QUESTION 4.3</h2>
<blockquote class="blockquote">
<p>Using the gapminder dataset, how has the distribution of GDP per capita (across countries) changed over time for each continent?</p>
</blockquote>
<p>A plot like the one below might need some buildup before presenting it to an audience. Or, consider facetting.</p>
<div id="cell-96" class="cell" data-editable="false" data-nbgrader="{&quot;cell_type&quot;:&quot;code&quot;,&quot;checksum&quot;:&quot;0d326195b0ba7b6ab5b2f3d6b83e94e8&quot;,&quot;grade&quot;:false,&quot;grade_id&quot;:&quot;cell-a3c366ae52f40bc3&quot;,&quot;locked&quot;:true,&quot;schema_version&quot;:3,&quot;solution&quot;:false,&quot;task&quot;:false}">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(continent <span class="sc">!=</span> <span class="st">"Oceania"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(gdpPercap, <span class="fu">factor</span>(year))) <span class="sc">+</span></span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>  ggridges<span class="sc">::</span><span class="fu">geom_density_ridges</span>(<span class="fu">aes</span>(<span class="at">fill =</span> continent), <span class="at">alpha =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="st">"GDP per capita"</span>, <span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">dollar_format</span>()) <span class="sc">+</span></span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Year"</span>) <span class="sc">+</span></span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>That’s all! 🏆</p>
<p>Please Restart and Run all, check for errors, Save, and submit this worksheet on Canvas.</p>
</section>
<section id="attribution" class="level2">
<h2 class="anchored" data-anchor-id="attribution">Attribution</h2>
<p>Thanks to Icíar Fernández Boyano, Victor Yuan, and Vincenzo Coia for putting this worksheet together.</p>
<p>The following resources were used as inspiration in the creation of this worksheet:</p>
<ul>
<li><a href="https://r4ds.had.co.nz/transform.html">R4DS Data Manipulation Chapter</a></li>
<li><a href="http://www.rebeccabarter.com/blog/2020-07-09-across/">Rebecca Barter’s post on across()</a></li>
<li>STAT545 materials from previous years</li>
<li><a href="https://allisonhorst.github.io/palmerpenguins/articles/examples.html">Palmer penguins dataset</a></li>
</ul>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2025, Grace Tompkins. <em>Built with <a href="https://quarto.org">Quarto</a></em></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>